<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>–ë–ª–æ–≥ ‚Äî –ü–æ—Å—Ç—ã</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 0 auto;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .post {
            border-bottom: 1px solid #ccc;
            padding: 20px 0;
        }

        img {
            max-width: 100%;
            height: auto;
        }

        .tags span {
            background-color: #f2f2f2;
            padding: 4px 8px;
            margin-right: 5px;
            border-radius: 4px;
            font-size: 0.9em;
        }
    </style>
</head>
<body>

<header>
    <h1>–°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤</h1>
    <form method="GET" th:action="@{/posts/add}">
        <button type="submit">–î–æ–±–∞–≤–∏—Ç—å –ø–æ—Å—Ç</button>
    </form>
</header>

<section>
    <form method="GET" th:action="@{/posts}">
        <p>
            <label for="search">–ù–∞–π—Ç–∏ –ø–æ —Ç–µ–≥—É:</label>
            <input type="text" id="search" name="search" th:value="${search}">
            <button type="submit">&#128269;</button>
        </p>
        <p>
            <label for="pageSize">–ß–∏—Å–ª–æ –ø–æ—Å—Ç–æ–≤:</label>
            <select id="pageSize" name="pageSize" onchange="this.form.submit()">
                <option th:each="size : ${new int[]{5,10,20,50,100}}"
                        th:value="${size}"
                        th:text="${size}"
                        th:selected="${paging.pageSize == size}">
                </option>
            </select>
        </p>
        <p>
            <button th:if="${paging.hasPrevious()}" name="pageNumber" th:value="${paging.pageNumber() - 1}">&lt;</button>
            <span th:text="'–°—Ç—Ä–∞–Ω–∏—Ü–∞: ' + ${paging.pageNumber()}"></span>
            <button th:if="${paging.hasNext()}" name="pageNumber" th:value="${paging.pageNumber() + 1}">&gt;</button>
        </p>
    </form>
</section>

<section th:each="post : ${posts}" class="post">
    <h2 th:text="${post.title}">–ó–∞–≥–æ–ª–æ–≤–æ–∫</h2>
    <a th:href="@{/posts/{id}(id=${post.id})}">
        <img th:src="@{http://localhost:8080/images/{id}(id=${post.id})}" alt="–û–±–ª–æ–∂–∫–∞ –ø–æ—Å—Ç–∞">
    </a>
    <!-- <p th:text="${post.textPreview}">–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ</p> -->
    <!-- <p>
        üëç <span th:text="${post.likesCount}">0</span>
        ‚úâ <span th:text="${post.comments.size()}">0</span>
    </p> -->
    <div class="tags">
        <span th:each="tag : ${post.tags}" th:text="'#' + ${tag}"></span>
    </div>
</section>

</body>
</html>